# Environment Configuration
# Copy this file to .env and fill in actual values
# Never commit .env file to version control

# Database Configuration
DATABASE_URL=postgresql://username:password@localhost:5432/fruitstand

# JWT Configuration
JWT_SECRET=your-secret-key-here
JWT_REFRESH_SECRET=your-refresh-secret-key-here

# Server Configuration
PORT=5000
NODE_ENV=development

# Base URL for generating public invoice share links in WhatsApp messages
# This should be the full URL including protocol (http:// or https://)
# Used to construct public invoice URLs like: ${BASE_URL}/api/public/invoices/${token}
# Important: Do NOT include trailing slash
# Development example: http://localhost:5000
# Production example: https://yourdomain.com
BASE_URL=http://localhost:5000

# WhatsApp Configuration
# Note: Account credentials (SID, Auth Token, Phone Number) are configured globally
# via environment variables and apply to all tenants. Tenant-specific settings like
# enabled status, credit balance, and scheduler preferences are managed in the UI.
# Get these from your Twilio Console: https://console.twilio.com

# Twilio Account Credentials (Required)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_auth_token_here

# WhatsApp sender number (must be registered with Twilio)
# Format: whatsapp:+14155238886 (include whatsapp: prefix)
TWILIO_WHATSAPP_FROM=whatsapp:+14155238886

# Twilio Content Template SIDs (Required for message sending)
# Create these templates in Twilio Console under Messaging > Content Templates
# Templates must be approved by WhatsApp before they can be used
#
# Enhanced Template Variables:
# All templates now support rich business and contact details:
#
# COMMON VARIABLES (available in all templates):
# - businessName: Tenant's business name (from tenant.name)
# - businessPhone: Tenant's contact phone (from tenant settings)
# - businessAddress: Tenant's business address (formatted, from tenant settings)
#
# SALES INVOICE TEMPLATE:
# - retailerName, invoiceNumber, invoiceDate, totalAmount, udhaaarAmount
# - contactPerson, retailerAddress (retailer details)
#
# PURCHASE INVOICE TEMPLATE:
# - vendorName, invoiceNumber, invoiceDate, netAmount, balanceAmount
# - contactPerson, vendorAddress (vendor details)
#
# PAYMENT REMINDER TEMPLATE:
# - recipientName, invoiceNumber, udhaaarAmount, dueDate
# - contactPerson, recipientAddress (recipient details)
#
# PAYMENT NOTIFICATION TEMPLATE:
# - recipientName, invoiceNumber, paymentAmount, paymentDate, paymentMode
# - contactPerson, recipientAddress (recipient details)
#
# NOTE: Tenant details are automatically included when available.
# Contact person and address fields are optional based on data availability.

# Sales invoice notification template
TWILIO_TEMPLATE_SALES_INVOICE=HXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Purchase invoice notification template
TWILIO_TEMPLATE_PURCHASE_INVOICE=HXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Payment reminder template
TWILIO_TEMPLATE_PAYMENT_REMINDER=HXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Payment received notification template
TWILIO_TEMPLATE_PAYMENT_NOTIFICATION=HXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Instructions:
# 1. Copy this file to .env and fill in actual values
# 2. Get Twilio credentials from https://console.twilio.com
# 3. Set up WhatsApp Business Account through Twilio
# 4. Create and approve message templates in Twilio Console
# 5. Template SIDs must match approved WhatsApp templates
# 6. Configure tenant settings (phone, address) in the UI for business branding
# 7. Variable ordering in Twilio templates follows: {{1}}, {{2}}, {{3}}, etc.
# 8. See README.md for complete template examples and variable mappings
# 9. Test templates with and without optional fields (contact person, addresses)
# 10. Phone numbers must be in E.164 format (+country_code_number)
# 11. Test thoroughly in Twilio sandbox before production use